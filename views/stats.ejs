<%- include('./partials/header') %>

<div class="container">
  <div class="stats-hero">
    <h1>LeBron James Stats</h1>
    <a href="/" class="btn">Back to Home</a>
  </div>

  <div class="stats-content">
    <% if(player) { %>
      <div class="player-info">
        <h2>Player Information</h2>
        <p><strong>Name:</strong> <%= player.first_name %> <%= player.last_name %></p>
        <p><strong>Position:</strong> <%= player.position %></p>
        <% if (player.height_feet || player.height) { %>
          <p><strong>Height:</strong> <%= player.height || (player.height_feet + "'" + player.height_inches + "\"") %></p>
        <% } %>
        <% if (player.weight_pounds || player.weight) { %>
          <p><strong>Weight:</strong> <%= player.weight || (player.weight_pounds + " lbs") %></p>
        <% } %>
        <% if (player.team) { %>
          <p><strong>Team:</strong> <%= player.team.full_name %> (<%= player.team.abbreviation %>)</p>
        <% } %>
      </div>
    <% } %>

    <% if(team) { %>
      <div class="team-info" style="margin-top: 20px; padding: 20px; background-color: #f0f0f0; border-radius: 8px;">
        <h2>Team Information</h2>
        <div style="display: flex; flex-wrap: wrap;">
          <div style="flex: 1; min-width: 200px; margin-right: 20px;">
            <p><strong>Team:</strong> <%= team.full_name %></p>
            <p><strong>Abbreviation:</strong> <%= team.abbreviation %></p>
            <p><strong>City:</strong> <%= team.city %></p>
          </div>
          <div style="flex: 1; min-width: 200px;">
            <p><strong>Conference:</strong> <%= team.conference %></p>
            <p><strong>Division:</strong> <%= team.division %></p>
          </div>
        </div>
      </div>
    <% } %>

    <% if(stats) { %>
      <div class="season-stats" style="margin-top: 20px;">
        <h2>Season Averages</h2>
        <% if(typeof goatTierRequired !== 'undefined' && goatTierRequired) { %>
          <div style="background-color: #fff3cd; padding: 10px; border-radius: 5px; margin-bottom: 15px;">
            <p style="margin: 0; font-size: 0.9em;">
              <strong>Note:</strong> Season averages are only available with a GOAT tier subscription to the Ball Don't Lie API. 
              The statistics shown below are fill-in data for demonstration purposes.
            </p>
          </div>
        <% } %>
        <div class="stats-grid">
          <div class="stat-box">
            <span class="stat-value"><%= stats.pts %></span>
            <span class="stat-label">PPG</span>
          </div>
          <div class="stat-box">
            <span class="stat-value"><%= stats.reb %></span>
            <span class="stat-label">RPG</span>
          </div>
          <div class="stat-box">
            <span class="stat-value"><%= stats.ast %></span>
            <span class="stat-label">APG</span>
          </div>
          <div class="stat-box">
            <span class="stat-value"><%= stats.stl %></span>
            <span class="stat-label">SPG</span>
          </div>
          <div class="stat-box">
            <span class="stat-value"><%= stats.blk %></span>
            <span class="stat-label">BPG</span>
          </div>
          <div class="stat-box">
            <span class="stat-value"><%= (stats.fg_pct * 100).toFixed(1) %>%</span>
            <span class="stat-label">FG%</span>
          </div>
          <div class="stat-box">
            <span class="stat-value"><%= (stats.fg3_pct * 100).toFixed(1) %>%</span>
            <span class="stat-label">3P%</span>
          </div>
          <div class="stat-box">
            <span class="stat-value"><%= (stats.ft_pct * 100).toFixed(1) %>%</span>
            <span class="stat-label">FT%</span>
          </div>
        </div>
      </div>
    <% } %>
  </div>
</div>

<%- include('./partials/footer') %>